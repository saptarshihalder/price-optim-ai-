var j=Object.defineProperty;var E=(r,t,e)=>t in r?j(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var i=(r,t,e)=>(E(r,typeof t!="symbol"?t+"":t,e),e);import{c as q,i as O}from"./createLucideIcon-860b63ca.js";import{r as g,j as $,d as R}from"./index-50404dee.js";/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function K(r,t=[]){let e=[];function s(n,u){const c=g.createContext(u),a=e.length;e=[...e,u];const f=h=>{var y;const{scope:d,children:b,...p}=h,m=((y=d==null?void 0:d[r])==null?void 0:y[a])||c,l=g.useMemo(()=>p,Object.values(p));return $.jsx(m.Provider,{value:l,children:b})};f.displayName=n+"Provider";function P(h,d){var m;const b=((m=d==null?void 0:d[r])==null?void 0:m[a])||c,p=g.useContext(b);if(p)return p;if(u!==void 0)return u;throw new Error(`\`${h}\` must be used within \`${n}\``)}return[f,P]}const o=()=>{const n=e.map(u=>g.createContext(u));return function(c){const a=(c==null?void 0:c[r])||n;return g.useMemo(()=>({[`__scope${r}`]:{...c,[r]:a}}),[c,a])}};return o.scopeName=r,[s,Q(o,...t)]}function Q(...r){const t=r[0];if(r.length===1)return t;const e=()=>{const s=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(n){const u=s.reduce((c,{useScope:a,scopeName:f})=>{const h=a(n)[`__scope${f}`];return{...c,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return e.scopeName=t.scopeName,e}var k=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],L=k.reduce((r,t)=>{const e=O(`Primitive.${t}`),s=g.forwardRef((o,n)=>{const{asChild:u,...c}=o,a=u?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),$.jsx(a,{...c,ref:n})});return s.displayName=`Primitive.${t}`,{...r,[t]:s}},{});function T(r,t){r&&R.flushSync(()=>r.dispatchEvent(t))}var v=(r=>(r.DEV="development",r.PROD="production",r))(v||{});const D="production",F="http://localhost:8000",V="/";var x=(r=>(r.Json="application/json",r.FormData="multipart/form-data",r.UrlEncoded="application/x-www-form-urlencoded",r.Text="text/plain",r))(x||{});class U{constructor(t={}){i(this,"baseUrl","");i(this,"securityData",null);i(this,"securityWorker");i(this,"abortControllers",new Map);i(this,"customFetch",(...t)=>fetch(...t));i(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});i(this,"setSecurityData",t=>{this.securityData=t});i(this,"contentFormatters",{"application/json":t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,"text/plain":t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,"multipart/form-data":t=>Object.keys(t||{}).reduce((e,s)=>{const o=t[s];if(Array.isArray(o))for(const n of o)e.append(s,n instanceof Blob?n:typeof n=="object"&&n!==null?JSON.stringify(n):`${n}`);else e.append(s,o instanceof Blob?o:typeof o=="object"&&o!==null?JSON.stringify(o):`${o}`);return e},new FormData),"application/x-www-form-urlencoded":t=>this.toQueryString(t)});i(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const s=this.abortControllers.get(t);return s?s.signal:void 0}const e=new AbortController;return this.abortControllers.set(t,e),e.signal});i(this,"abortRequest",t=>{const e=this.abortControllers.get(t);e&&(e.abort(),this.abortControllers.delete(t))});i(this,"request",async({body:t,secure:e,path:s,type:o,query:n,format:u,baseUrl:c,cancelToken:a,...f})=>{const P=(typeof e=="boolean"?e:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(f,P),d=n&&this.toQueryString(n),b=this.contentFormatters[o||"application/json"],p=u||h.format;return this.customFetch(`${c||this.baseUrl||""}${s}${d?`?${d}`:""}`,{...h,headers:{...h.headers||{},...o&&o!=="multipart/form-data"?{"Content-Type":o}:{}},signal:(a?this.createAbortSignal(a):h.signal)||null,body:typeof t>"u"||t===null?null:b(t)}).then(async m=>{const l=m;l.data=null,l.error=null;const y=p?await m[p]().then(w=>(l.ok?l.data=w:l.error=w,l)).catch(w=>(l.error=w,l)):l;if(a&&this.abortControllers.delete(a),!m.ok)throw y;return y})});Object.assign(this,t)}encodeQueryParam(t,e){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof e=="number"?e:`${e}`)}`}addQueryParam(t,e){return this.encodeQueryParam(e,t[e])}addArrayQueryParam(t,e){return t[e].map(o=>this.encodeQueryParam(e,o)).join("&")}toQueryString(t){const e=t||{};return Object.keys(e).filter(o=>typeof e[o]<"u").map(o=>Array.isArray(e[o])?this.addArrayQueryParam(e,o):this.addQueryParam(e,o)).join("&")}addQueryParams(t){const e=this.toQueryString(t);return e?`?${e}`:""}mergeRequestParams(t,e){return{...this.baseApiParams,...t,...e||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...e&&e.headers||{}}}}async*requestStream({body:t,secure:e,path:s,type:o,query:n,format:u,baseUrl:c,cancelToken:a,...f}){const P=(typeof e=="boolean"?e:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(f,P),d=n&&this.toQueryString(n),b=this.contentFormatters[o||"application/json"];let p;try{if(p=await this.customFetch(`${c||this.baseUrl||""}${s}${d?`?${d}`:""}`,{...h,headers:{...h.headers||{},...o&&o!=="multipart/form-data"?{"Content-Type":o}:{}},signal:(a?this.createAbortSignal(a):h.signal)||null,body:typeof t>"u"||t===null?null:b(t)}),!p.ok)throw new Error("Response not OK");const m=p.body.getReader(),l=new TextDecoder,y=p.headers.get("Content-Type");for(;;){const{done:w,value:S}=await m.read();if(w)break;let z=l.decode(S,{stream:!0}),C;if(y==="application/json"){let A=l.decode(S,{stream:!0});try{C=JSON.parse(A)}catch(_){throw new Error(_)}}else y==="application/octet-stream"?C=new Uint8Array(S):C=l.decode(S,{stream:!0});yield C}}catch(m){throw new Error(m)}finally{a&&this.abortControllers.delete(a)}}}class B extends U{constructor(){super(...arguments);i(this,"check_health",(e={})=>this.request({path:"/_healthz",method:"GET",...e}));i(this,"optimize_price",(e,s={})=>this.request({path:"/routes/optimize-price",method:"POST",body:e,type:x.Json,...s}));i(this,"optimize_batch",(e,s={})=>this.request({path:"/routes/optimize-batch",method:"POST",body:e,type:x.Json,...s}));i(this,"health_check",(e={})=>this.request({path:"/routes/health",method:"GET",...e}));i(this,"start_scraping",(e,s={})=>this.request({path:"/routes/start-scraping",method:"POST",body:e,type:x.Json,...s}));i(this,"get_scraping_progress",(e,s={})=>this.request({path:`/routes/scraping-progress/${encodeURIComponent(e.taskId)}`,method:"GET",...s}));i(this,"get_scraping_results",(e,s={})=>this.request({path:`/routes/scraping-results/${encodeURIComponent(e.taskId)}`,method:"GET",...s}))}}const J=()=>D===v.DEV?`${window.location.origin}`:F,N=()=>({credentials:"include",secure:!0}),I=()=>{const r=J(),t=N();return new B({baseUrl:r,baseApiParams:t,customFetch:(e,s)=>fetch(e,s),securityWorker:async()=>({})})},X=I();export{V as A,H as C,L as P,X as b,K as c,T as d};
